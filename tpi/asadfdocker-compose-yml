version: "3"

services:
  api-service:

    build: .
    #restart: always
    image: java-grupo4
    ports:
      - 8080:8080
      #context: .
      #dockerfile: Dockerfile
    
    #depends_on:
    #  - mysqlbd
    #links:
    #  - mysqlbd
      
    container_name: java-v1
    #network_mode: "host"
    #ports:
     
    environment:
    #  - spring.datasource.url=jdbc:mysql://mysqldb:3306/grupo4?allowPublicKeyRetrieval=true    
      MYSQL_HOST: mysqldb
      MYSQL_USER: root
      MYSQL_PASSWORD: root
      MYSQL_PORT: 3306
    volumes:
      - .m2:/root/.m2
    networks:
      - api-net-1



    #networks:
    
     # - nginx_default
networks:
 api-net-1:
#networks:
#  nginx_default:
#    external: true
